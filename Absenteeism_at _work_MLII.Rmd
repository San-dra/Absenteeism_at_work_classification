---
title: "Predicting Absenteeism at work"
subtitle: "Machine Learning II"
author: "Sandra Alemayehu & Jessica Hayek"
date: "21 February 2020"
output: html_document

---

```{r, message=FALSE, warning=FALSE, include=FALSE}
library(MASS)
library(ISLR)
library(rpart)
library(rpart.plot)
library(randomForest)
library(ggplot2)
library(e1071)     
library(glmnet)
library(caret)     
library(FSelector)
library(dplyr)
library(knitr)
library(magrittr)
library(lattice)
library(skimr)
```

#Introduction
The main goal is to **predict whether or not an individual is going to have a long absence** (`Absenteeism` variable) it's therefore a binary classification problem.

#Data Loading and Overview

The dataframe contains **22** variables.The target variable is **Absenteeism**, a logical variable setting categorizing whether an individual is going to be absent more than 5 hours in total.

```{r Loading Training}

abs_training_df<-read.csv("Absenteeism_at_work_classification_training.csv",sep = ";")
ncol(abs_training_df)
```

##Variable Type
```{r Variables}
data.frame(Variable = names(abs_training_df),
           Class = sapply(abs_training_df, typeof),
           First_values = sapply(abs_training_df, function(x) paste0(head(x),  collapse = ", ")),
           row.names = NULL) %>% kable()
```


##Data Summary
```{r Statistical Summary}
stat_abs_training_df <- do.call(data.frame, 
                list(mean = apply(abs_training_df, 2, mean),
                sd = apply(abs_training_df, 2, sd),
                median = apply(abs_training_df, 2, median),
                min = apply(abs_training_df, 2, min),
                max = apply(abs_training_df, 2, max),
                n = apply(abs_training_df, 2, length)))
stat_abs_training_df<-t(stat_abs_training_df)
kable(stat_abs_training_df[,1:6])
kable(stat_abs_training_df[,7:13])
kable(stat_abs_training_df[,14:20])
kable(stat_abs_training_df[,21:22])

```

## View Data Distribution
```{r}
skim(abs_training_df)
```

#Data Cleaning and Preparation
From the data overview we can identify there target variable is sufficiently balanced in training set with 63% False and 47% True. We also dont have any missing values.
However we do have variable which are codified as numbers which are supposed to be categorical and possible outliers in few variables such as age and transportation cost.

##Changing Data Type
 these variables need to converted into factors.

```{r pressure, echo=FALSE}

```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
